{"version":3,"file":"static/js/451.e6f9df49.chunk.js","mappings":"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","sources":["webpack://MERN/./src/components/Dashboard.module.css?fff2","webpack://MERN/./src/card/story.module.css?8876","card/Story.jsx","components/Dashboard.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Dashboard_container__Hs1ve\",\"item\":\"Dashboard_item__gNJr1\",\"loading\":\"Dashboard_loading__+oEvi\"};","// extracted by mini-css-extract-plugin\nexport default {\"story\":\"story_story__UokJx\",\"title\":\"story_title__lV5BX\",\"heading\":\"story_heading__daTBk\",\"description\":\"story_description__Y4OBH\",\"btn\":\"story_btn__1LPSN\",\"delete\":\"story_delete__nYmNj\",\"edit\":\"story_edit__7YJDk\",\"like\":\"story_like__ebgvx\",\"buttons\":\"story_buttons__gqiRO\"};","import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport EditStory from \"../components/EditStory\";\r\nimport classes from \"./story.module.css\";\r\nimport { FcSpeaker } from 'react-icons/fc';\r\n\r\nconst Story = (props) => {\r\n\r\n    const [showEditForm, setShowEditForm] = useState(false);\r\n    const [ID, setId] = useState('');\r\n    const [like, setLike] = useState(false);\r\n    const [user, setUser] = useState({\r\n        email: ''\r\n    });\r\n    const [del, setDel] = useState(false);\r\n    const [wpnumber, setnumber] = useState('');\r\n\r\n    useEffect(()=>{\r\n        setUser({\r\n            email: localStorage.getItem('email')\r\n        });\r\n\r\n    },[like, del])\r\n    \r\n    const deleteHandler = (e) => {\r\n        const id = e.target.value;\r\n        axios.delete('https://story-books-service.herokuapp.com/stories/'+ id)\r\n        .then(res => console.log(res))\r\n        .catch(err => console.log(err));\r\n        setDel(true);\r\n    }\r\n    const wpInputHandler = (e) => {\r\n        var number = e.target.value;\r\n        if(number.length === 12){\r\n            setnumber(number);\r\n            console.log(wpnumber);\r\n            return;\r\n        }\r\n    }\r\n    const editHandler = (e) => {\r\n        setId(e.target.value);\r\n        setShowEditForm(true);\r\n    }\r\n\r\n    const whatsaapHandler = (e) => {\r\n        if(e.target.value && wpnumber)\r\n        axios.post('https://story-books-service.herokuapp.com/'+wpnumber, {\"story\": e.target.value})\r\n            .then(res => {\r\n                console.log(res)\r\n                document.getElementById('number').value='';\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n\r\n    const likeHandler = (e) => {\r\n        const ID = e.target.id;\r\n\r\n        //like to dislike\r\n        if(like){   \r\n            axios.post('https://story-books-service.herokuapp.com/stories/dislike/'+ID, user)\r\n            .then(res => console.log(res))\r\n            .catch(err => console.log(err));\r\n            setLike(!like);\r\n        }\r\n         //dislike to like   \r\n        else{\r\n            console.log('like');\r\n            let email = localStorage.getItem('email');\r\n            setUser(email);\r\n            axios.post('https://story-books-service.herokuapp.com/stories/like/'+ID, user)\r\n            .then(res => console.log(res))\r\n            .catch(err => console.log(err));\r\n            setLike(!like);\r\n        }\r\n    }\r\n    \r\n    const speakContent = (e) => {\r\n        var msg = new SpeechSynthesisUtterance();\r\n        msg.text = props.description;\r\n        window.speechSynthesis.speak(msg);\r\n    }\r\n\r\n    return  <div className={classes.story}>\r\n        {\r\n            !showEditForm && <>\r\n            <div className={classes.title}>\r\n                <h3 className={classes.heading}>{props.title}</h3>\r\n                <button style={{ border: \"none\", borderRadius:\"20px\", backgroundColor:\"#dcdde1\"}} onClick={speakContent}><FcSpeaker /></button>\r\n            </div>\r\n                <div className={classes.description}><p>{props.description}</p></div>\r\n                <div className={classes.btn}>\r\n                <button id={props.id} type=\"submit\" value={props.id} className={classes.like} onClick={likeHandler}>\r\n                    <svg  xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" fill={like ? '#fd79a8' : '#bdc3c7'} className=\"bi bi-star-fill\"  id={props.id} viewBox=\"0 0 16 16\">\r\n                    <path  id={props.id} d=\"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z\"/>\r\n                    </svg>\r\n                    <br />\r\n                    <p>{props.likes} likes</p>\r\n                </button>\r\n                <button className={classes.delete} name=\"title\" value={props.id} type=\"submit\" onClick={deleteHandler}>Delete</button>\r\n                <button className={classes.edit} name=\"description\" value={props.id} type=\"submit\" onClick={editHandler}>Edit</button>\r\n                <div className={classes.whatsaap}>\r\n                <input type=\"text\" name=\"whatsaap number\"  placeholder=\"eg: 916207000077\" id=\"number\" defaultValue={wpnumber} onChange={wpInputHandler}/>\r\n                <button className={classes.edit} value={props.description} onClick={whatsaapHandler} >\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-whatsapp\" viewBox=\"0 0 16 16\">\r\n                    <path d=\"M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z\"/>\r\n                    </svg>\r\n                </button>\r\n                </div>\r\n                <p style={{color:\"gray\"}}> Published on {props.date}</p>\r\n            </div>\r\n            </>\r\n        }\r\n        {showEditForm && <EditStory id={ID} renderForm={setShowEditForm}/>}\r\n    </div> \r\n    \r\n}\r\n\r\nexport default Story;\r\n","import classes from \"./Dashboard.module.css\";\r\nimport Story from \"../card/Story\";\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst Dashboard = () => {\r\n    const [stories, setStories] = useState([{\r\n        title: '',\r\n        description: '',\r\n        likes: '',\r\n        date: ''\r\n    }]);\r\n    \r\n    const [didMount, setDidMount] = useState(false); \r\n    const [mount, setMount] = useState(false);\r\n\r\n    useEffect(()=>{\r\n        axios.get('https://story-books-service.herokuapp.com/stories/')\r\n        .then(res => res.data)\r\n        .then(data => {\r\n            setStories(data)\r\n            setDidMount(true)\r\n        })\r\n        .catch(err => console.log(err))\r\n        setMount(true)\r\n    },[stories]);\r\n\r\n    if(!didMount)\r\n        return <div className={classes.loading}><h1>Loading...</h1></div>\r\n    else\r\n    return <div className={classes.container}>\r\n        {\r\n        stories.sort(function (a, b) {\r\n            return b.likes.length - a.likes.length;\r\n        }).map((story, index) => {\r\n            let likes = story.likes;\r\n            let len = likes.toString().split(',');\r\n            return <div className={classes.item} key={index}>\r\n                <Story \r\n                id={story._id}\r\n                title={story.title}\r\n                description={story.description}\r\n                likes={len.length}\r\n                date={story.date}\r\n                />\r\n        </div>\r\n        })\r\n        }\r\n    </div>\r\n}\r\n\r\nexport default Dashboard;"],"names":["props","useState","showEditForm","setShowEditForm","ID","setId","like","setLike","email","user","setUser","del","setDel","wpnumber","setnumber","useEffect","localStorage","getItem","className","classes","title","style","border","borderRadius","backgroundColor","onClick","e","msg","SpeechSynthesisUtterance","text","description","window","speechSynthesis","speak","id","type","value","target","axios","then","res","console","log","catch","err","xmlns","width","height","fill","viewBox","d","likes","name","placeholder","defaultValue","onChange","number","length","document","getElementById","color","date","EditStory","renderForm","stories","setStories","didMount","setDidMount","setMount","data","sort","a","b","map","story","index","len","toString","split","_id"],"sourceRoot":""}